<main class="champion-detail-page" [ngStyle]="{'background-image': 'url(' + backgroundImage + ')'}">
  <section class="skins-section">
    <div class="skins-container">
      <img
        *ngFor="let champ of champion.skins"
        [src]="'https://ddragon.leagueoflegends.com/cdn/img/champion/loading/' + champion.id + '_' + champ.num + '.jpg'"
        [alt]="'Skin de ' + champion.name + ' ' + champ.num"
        class="skin-image"
        [class.selected]="selectedSkin === champ.num"
        (click)="selectSkin(champ.num)"
      />
    </div>
  </section>

  <section class="detail-section-history">
    <div class="detail-history-content">
      <h1 class="detail-champion-name">{{ champion.name | uppercase }}</h1>
      <h4 class="detail-section-title">Historia</h4>
      <p class="detail-section-text">
        {{ champion.lore }}
      </p>
    </div>
  </section>

  <section class="detail-section-spells">
    <h2 class="section-heading">Habilidades</h2>
    <div class="spells-grid">
      <div class="spell-item">
        <img
          [class.active]="activeButtonId === 'passive'"
          [src]="passiva"
          alt="Habilidad Pasiva"
          (click)="miFuncion('passive')"
        />
        <p class="spell-description" *ngIf="activeButtonId === 'passive'">
          {{ champion.passive.description }}
        </p>
      </div>

      <div class="spell-item" *ngFor="let skill of skills; let i = index">
        <img
          [class.active]="activeButtonId === 'button-' + i"
          [src]="skill"
          [alt]="'Habilidad ' + (i + 1)"
          (click)="miFuncion('button-' + i)"
        />
        <p class="spell-description" *ngIf="activeButtonId === 'button-' + i">
          {{ champion.spells[i].description }}
        </p>
      </div>
    </div>
  </section>

  <section class="detail-section-stats">
    <h2 class="section-heading">Estadísticas Detalladas</h2>
    <div class="stats-grid">
      <div class="stat-item">
        <img src="/img/heart.webp" alt="Icono de Vida" />
        <p>HP: {{ champion.stats["hp"] }}</p>
      </div>
      <div class="stat-item">
        <img src="/img/speed.webp" alt="Icono de Velocidad de Movimiento" />
        <p>Velocidad de Movimiento: {{ champion.stats["movespeed"] }}</p>
      </div>
      <div class="stat-item">
        <img src="/img/armor.webp" alt="Icono de Armadura" />
        <p>Armadura: {{ champion.stats["armor"] }}</p>
      </div>
      <div class="stat-item">
        <img src="/img/magicresist.webp" alt="Icono de Resistencia Mágica" />
        <p>Resistencia Mágica: {{ champion.stats["spellblock"] }}</p>
      </div>
      <div class="stat-item">
        <img src="/img/rangeAtak.png" alt="Icono de Rango de Ataque" />
        <p>Rango de Ataque: {{ champion.stats["attackrange"] }}</p>
      </div>
      <div class="stat-item">
        <img src="/img/healRegen.webp" alt="Icono de Regeneración de HP" />
        <p>Regen. HP: {{ champion.stats["hpregen"] }}</p>
      </div>
      <div class="stat-item">
        <img src="/img/crit.png" alt="Icono de Crítico" />
        <p>Crítico: {{ champion.stats["crit"] }}</p>
      </div>
      <div class="stat-item">
        <img src="/img/atk.webp" alt="Icono de Daño de Ataque" />
        <p>Daño de Ataque: {{ champion.stats["attackdamage"] }}</p>
      </div>
      <div class="stat-item">
        <img src="/img/atkspeed.webp" alt="Icono de Velocidad de Ataque" />
        <p>Velocidad de Ataque: {{ champion.stats["attackspeed"] }}</p>
      </div>
    </div>
  </section>

  <section class="column-stats-section">
    <h2 class="section-heading">Atributos Principales</h2>
    <div class="column-stats-chart">
      <div class="stat-bar-wrapper">
        <div class="stat-bar" [ngStyle]="{'height': champion.info.attack * 10 + '%'}"></div>
        <span class="stat-label">Ataque</span>
      </div>
      <div class="stat-bar-wrapper">
        <div class="stat-bar" [ngStyle]="{'height': champion.info.magic * 10 + '%'}"></div>
        <span class="stat-label">Magia</span>
      </div>
      <div class="stat-bar-wrapper">
        <div class="stat-bar" [ngStyle]="{'height': champion.info.defense * 10 + '%'}"></div>
        <span class="stat-label">Defensa</span>
      </div>
      <div class="stat-bar-wrapper">
        <div class="stat-bar" [ngStyle]="{'height': champion.info.difficulty * 10 + '%'}"></div>
        <span class="stat-label">Dificultad</span>
      </div>
    </div>
  </section>
</main>